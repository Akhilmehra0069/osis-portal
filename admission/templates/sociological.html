{% load staticfiles %}
{% load i18n %}
{% load message %}

{% comment "License" %}
* OSIS stands for Open Student Information System. It's an application
* designed to manage the core business of higher education institutions,
* such as universities, faculties, institutes and professional schools.
* The core business involves the administration of students, teachers,
* courses, programs and so on.
*
* Copyright (C) 2015-2016 Universit√© catholique de Louvain (http://www.uclouvain.be)
*
* This program is free software: you can redistribute it and/or modify
* it under the terms of the GNU General Public License as published by
* the Free Software Foundation, either version 3 of the License, or
* (at your option) any later version.
*
* This program is distributed in the hope that it will be useful,
* but WITHOUT ANY WARRANTY; without even the implied warranty of
* MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
* GNU General Public License for more details.
*
* A copy of this license - GNU General Public License - is available
* at the root of the source code of this program.  If not,
* see http://www.gnu.org/licenses/.
{% endcomment %}





<form id="form_sociological_survey" action="{% url 'sociological_survey' %}" method="POST">

    <div>
        <button type="submit" class="btn btn-default" title="{% trans 'accounting'%}">
            <span class="glyphicon glyphicon-step-backward" aria-hidden="true"></span>
            {%trans 'previous_step'%} : {%trans 'accounting'%}
        </button>
        <button type="submit" class="btn btn-default" title="{% trans 'accounting'%}">
            <span class="glyphicon glyphicon-step-forward" aria-hidden="true"></span>
            {%trans 'next_step'%} : {%trans 'attachments'%}
        </button>
    </div>

    <br>

    {% csrf_token %}
    {% if sociological_form.errors %}
    <div class="alert alert-danger" role="alert">
        Vous n'avez pas rempli tout les champs obligatoires ou les champs
        sont incorrectes.
    </div>
    {% endif %}

    <!-- To know wich tab to go if valid -->
    <input type="hidden" value="next" id="hdn_next_tab" name="next_tab" title="Next tab" >

    <!-- NUMBER OF BROTHERS AND SISTERS -->
    <div class="row">
        <div class="col-md-4 form-group {% if sociological_form.number_brothers_sisters.errors %} has-error {% endif %}">
            <label>{% trans 'brother_sister_number'%}</label>
            <input class="form-control" id="number_brothers_sisters"
                   name="number_brothers_sisters" type="text"
                   maxlength="2" value="{{ sociological_form.number_brothers_sisters.value }}">
            {% if sociological_form.number_brothers_sisters.errors %}
            <span class="help-block">
                <ul style="list-style-type: none">
                    {% for error in sociological_form.number_brothers_sisters.errors %}
                    <li>{{ error | escape }}</li>
                    {% endfor %}
                </ul>
            </span>
            {% endif %}
        </div>
    </div>

    <!-- FATHER INFORMATION -->
    <div class="row">
        <div class="col-md-12">
            <label>{% trans 'father'%}</label>
        </div>
        <div class="col-md-3 form-group">
            {% if sociological_form.father_is_deceased.value %}
            <input type="checkbox" id="father_is_deceased" name="father_is_deceased" checked>
            {% else %}
            <input type="checkbox" id="father_is_deceased" name="father_is_deceased">
            {% endif %}
            <label>{% trans 'deceased_male'%}</label>
        </div>
        <div class="col-md-5 form-group">
            <label>{% trans 'study'%}</label>
            <select name="father_education" id="father_education" class="form-control" >
                {% for choice in sociological_form.father_education.field.choices %}
                {{ choice }}
                <option value="{{ choice.0}}"
                        {% if sociological_form.father_education.value == choice.0 %}
                        selected
                        {% elif sociological_form.father_education.value|add:"0" == choice.0 %}
                selected
                {% endif %}>
                <!-- This is a bit of hack as the value changed between int or str depending on situation. -->
                {{ choice.1 }}
                </option>
                {% endfor %}
            </select>
        </div>
        <div class="col-md-4 form-group">
            <label>{% trans 'profession'%}</label>
            <select name="father_profession" id="father_profession" class="form-control" >
                {% for choice in sociological_form.father_profession.field.choices %}
                <option value="{{ choice.0}}"
                        {%if sociological_form.father_profession.value == choice.0 %}
                        selected
                        {% elif sociological_form.father_profession.value|add:"0" == choice.0 %}
                selected
                {% endif %}>
                {{ choice.1 }}
                </option>
                {% endfor %}
            </select>
        </div>
    </div>

    <!-- MOTHER INFORMATION -->
    <div class="row">
        <div class="col-md-12">
            <label>{% trans 'mother'%}</label>
        </div>
        <div class="col-md-3 form-group">
            {% if sociological_form.mother_is_deceased.value %}
            <input type="checkbox" id="mother_is_deceased" name="mother_is_deceased" checked>
            {% else %}
            <input type="checkbox" id="mother_is_deceased" name="mother_is_deceased">
            {% endif %}
            <label>{% trans 'deceased_female'%}</label>
        </div>
        <div class="col-md-5 form-group">
            <label>{% trans 'study'%}</label>
            <select name="mother_education" id="mother_education" class="form-control" >
                {% for choice in sociological_form.mother_education.field.choices %}
                <option value="{{ choice.0}}"
                        {% if sociological_form.mother_education.value == choice.0 %}
                        selected
                        {% elif sociological_form.mother_education.value|add:"0" == choice.0 %}
                selected
                {% endif %}>
                {{ choice.1 }}
                </option>
                {% endfor %}
            </select>
        </div>
        <div class="col-md-4 form-group">
            <label>{% trans 'profession'%}</label>
            <select name="mother_profession" id="mother_profession" class="form-control" >
                {% for choice in sociological_form.mother_profession.field.choices %}
                <option value="{{ choice.0}}"
                        {% if sociological_form.mother_profession.value == choice.0 %}
                        selected
                        {% elif sociological_form.mother_profession.value|add:"0" == choice.0 %}
                selected
                {% endif %}>
                {{ choice.1 }}
                </option>
                {% endfor %}
            </select>
        </div>
    </div>

    <!-- STUDENT INFORMATION -->
    <div class="row">
        <div class="col-md-12">
            <label>{% trans 'student'%}</label>
        </div>
        <div class="col-md-6 form-group {% if sociological_form.student_professional_activity.errors %}has-error{%endif%}">
            <label>{% trans 'professional_activity'%}</label>
            <select name="student_professional_activity"
                    id="student_professional_activity"
                    class="form-control" >
                {% for choice in sociological_form.student_professional_activity.field.choices %}
                <option value="{{ choice.0}}"
                        {% if sociological_form.student_professional_activity.value == choice.0 %}
                        selected
                        {% elif sociological_form.student_professional_activity.value|add:"0" == choice.0 %}
                selected
                {% endif %}>
                {{ choice.1 }}
                </option>
                {% endfor %}
            </select>
            {% if sociological_form.student_professional_activity.errors %}
            <span class="help-block">
                <ul style="list-style-type: none">
                    {% for error in sociological_form.student_professional_activity.errors %}
                    <li>{{ error | escape }}</li>
                    {% endfor %}
                </ul>
            </span>
            {% endif %}
        </div>
        <div class="col-md-6 form-group">
            <label>{% trans 'profession'%}</label>
            <select name="student_profession"
                    id="student_profession"
                    class="form-control" >
                {% for choice in sociological_form.student_profession.field.choices %}
                <option value="{{ choice.0}}"
                        {% if sociological_form.student_profession.value == choice.0 %}
                        selected
                        {% elif sociological_form.student_profession.value|add:"0" == choice.0 %}
                selected
                {% endif %}>
                {{ choice.1 }}
                </option>
                {% endfor %}
            </select>
            {% if sociological_form.student_profession.errors %}
            <span class="help-block alert alert-danger" role="alert">
                <ul style="list-style-type: none">
                    {% for error in sociological_form.student_profession.errors %}
                    <li>{{ error | escape }}</li>
                    {% endfor %}
                </ul>
            </span>
            {% endif %}
        </div>
    </div>

    <!-- CONJOINT INFORMATION -->
    <div class="row">
        <div class="col-md-12">
            <label>{% trans 'conjoint'%}</label>
        </div>
        <div class="col-md-6 form-group">
            <label>{% trans 'professional_activity'%}</label>
            <select name="conjoint_professional_activity"
                    id="conjoint_professional_activity"
                    class="form-control" >
                {% for choice in sociological_form.conjoint_professional_activity.field.choices %}
                <option value="{{ choice.0}}"
                        {% if sociological_form.conjoint_professional_activity.value == choice.0 %}
                        selected
                        {% elif sociological_form.conjoint_professional_activity.value|add:"0" == choice.0 %}
                selected
                {% endif %}>
                {{ choice.1 }}
                </option>
                {% endfor %}
            </select>
        </div>
        <div class="col-md-6 form-group">
            <label>{% trans 'profession'%}</label>
            <select name="conjoint_profession"
                    id="conjoint_profession"
                    class="form-control" >
                {% for choice in sociological_form.conjoint_profession.field.choices %}
                <option value="{{ choice.0}}"
                        {% if sociological_form.conjoint_profession.value == choice.0 %}
                        selected
                        {% elif sociological_form.conjoint_profession.value|add:"0" == choice.0 %}
                selected
                {% endif %}>
                {{ choice.1 }}
                </option>
                {% endfor %}
            </select>
        </div>
    </div>


    <!-- CONJOINT INFORMATION -->
    <div class="row">
        <div class="col-md-12">
            <label>{% trans 'grandfather_profession' %}</label>
        </div>
        <div class="col-md-6 form-group">
            <label>{% trans 'paternal'%}</label>
            <select name="paternal_grandfather_profession"
                    id="paternal_grandfather_profession"
                    class="form-control" >
                <{% for choice in sociological_form.paternal_grandfather_profession.field.choices %}
                <option value="{{ choice.0}}"
                        {% if sociological_form.paternal_grandfather_profession.value == choice.0 %}
                        selected
                        {% elif sociological_form.paternal_grandfather_profession.value|add:"0" == choice.0 %}
                selected
                {% endif %}>
                {{ choice.1 }}
                </option>
                {% endfor %}
            </select>
        </div>
        <div class="col-md-6 form-group">
            <label>{% trans 'maternal'%}</label>
            <select name="maternal_grandfather_profession"
                    id="maternal_grandfather_profession"
                    class="form-control" >
                {% for choice in sociological_form.maternal_grandfather_profession.field.choices %}
                <option value="{{ choice.0}}"
                        {% if sociological_form.maternal_grandfather_profession.value == choice.0 %}
                        selected
                        {% elif sociological_form.maternal_grandfather_profession.value|add:"0" == choice.0 %}
                selected
                {% endif %}>
                {{ choice.1 }}
                </option>
                {% endfor %}
            </select>
        </div>
    </div>

    <div>
        <button type="submit" class="btn btn-default" title="{% trans 'accounting'%}">
            <span class="glyphicon glyphicon-step-backward" aria-hidden="true"></span>
            {%trans 'previous_step'%} : {%trans 'accounting'%}
        </button>
        <button type="submit" class="btn btn-default" title="{% trans 'accounting'%}">
            <span class="glyphicon glyphicon-step-forward" aria-hidden="true"></span>
            {%trans 'next_step'%} : {%trans 'attachments'%}
        </button>
    </div>

</form>



